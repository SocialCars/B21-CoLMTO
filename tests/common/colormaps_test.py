# -*- coding: utf-8 -*-
# @package tests
# @cond LICENSE
# #############################################################################
# # LGPL License                                                              #
# #                                                                           #
# # This file is part of the Optimisation of Overtaking Manoeuvres project.   #
# # Copyright (c) 2016, Malte Aschermann (malte.aschermann@tu-clausthal.de)   #
# # This program is free software: you can redistribute it and/or modify      #
# # it under the terms of the GNU Lesser General Public License as            #
# # published by the Free Software Foundation, either version 3 of the        #
# # License, or (at your option) any later version.                           #
# #                                                                           #
# # This program is distributed in the hope that it will be useful,           #
# # but WITHOUT ANY WARRANTY; without even the implied warranty of            #
# # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the             #
# # GNU Lesser General Public License for more details.                       #
# #                                                                           #
# # You should have received a copy of the GNU Lesser General Public License  #
# # along with this program. If not, see http://www.gnu.org/licenses/         #
# #############################################################################
# @endcond
"""
optom: Test module for common.colormaps.
"""
from nose.tools import assert_equal

import optom.common.colormaps


def test_cmap_names():
    """Test case for cmap_names function."""
    assert_equal(sorted(optom.common.colormaps.cmap_names()),
                 sorted(["magma", "magma_r", "inferno", "inferno_r",
                         "plasma", "plasma_r","viridis", "viridis_r"])
                 )


def test_mapped_cmap():
    """Test case for get_mapped_cmap function."""

    l_results = [
        [
            (0.98836199999999996, 0.99836400000000003, 0.64492400000000005, 1.0),
            (0.96439399999999997, 0.84384800000000004, 0.273391, 1.0),
            (0.987622, 0.64532, 0.039885999999999998, 1.0),
            (0.95450599999999997, 0.46874399999999999, 0.099874000000000004, 1.0),
            (0.86500600000000005, 0.31682199999999999, 0.22605500000000001, 1.0),
            (0.72990900000000003, 0.212759, 0.33386100000000002, 1.0),
            (0.57830400000000004, 0.148039, 0.40441100000000002, 1.0),
            (0.41633100000000001, 0.090203000000000005, 0.43294300000000002, 1.0),
            (0.25823400000000002, 0.038571000000000001, 0.40648499999999999, 1.0),
            (0.087411000000000003, 0.044555999999999998, 0.22481300000000001, 1.0)
        ],
        [
            (0.94001500000000004, 0.97515799999999997, 0.131326, 1.0),
            (0.98864799999999997, 0.80957900000000005, 0.14535699999999999, 1.0),
            (0.98826000000000003, 0.65232500000000004, 0.211364, 1.0),
            (0.94921699999999998, 0.51776299999999997, 0.29566199999999998, 1.0),
            (0.88144299999999998, 0.39252900000000002, 0.38322899999999999, 1.0),
            (0.79454899999999995, 0.27577000000000002, 0.47311700000000001, 1.0),
            (0.69284000000000001, 0.16514100000000001, 0.56452199999999997, 1.0),
            (0.56273799999999996, 0.051545000000000001, 0.641509, 1.0),
            (0.41764200000000001, 0.00056400000000000005, 0.65839000000000003, 1.0),
            (0.25462699999999999, 0.013882, 0.61541900000000005, 1.0)
        ],
        [
            (0.99324800000000002, 0.90615699999999999, 0.14393600000000001, 1.0),
            (0.74138800000000005, 0.87344900000000003, 0.149561, 1.0),
            (0.47750399999999998, 0.82144399999999995, 0.31819500000000001, 1.0),
            (0.26694099999999998, 0.74875100000000006, 0.44057299999999999, 1.0),
            (0.13469200000000001, 0.658636, 0.51764900000000003, 1.0),
            (0.12872900000000001, 0.56326500000000002, 0.55122899999999997, 1.0),
            (0.16362499999999999, 0.47113300000000002, 0.55814799999999998, 1.0),
            (0.206756, 0.37175799999999998, 0.55311699999999997, 1.0),
            (0.25393500000000002, 0.26525399999999999, 0.52998299999999998, 1.0),
            (0.28262300000000001, 0.140926, 0.45751700000000001, 1.0)
        ],
        [
            (0.26700400000000002, 0.0048739999999999999, 0.32941500000000001, 1.0),
            (0.28262300000000001, 0.140926, 0.45751700000000001, 1.0),
            (0.25393500000000002, 0.26525399999999999, 0.52998299999999998, 1.0),
            (0.206756, 0.37175799999999998, 0.55311699999999997, 1.0),
            (0.16362499999999999, 0.47113300000000002, 0.55814799999999998, 1.0),
            (0.12756799999999999, 0.56694900000000004, 0.55055600000000005, 1.0),
            (0.13469200000000001, 0.658636, 0.51764900000000003, 1.0),
            (0.26694099999999998, 0.74875100000000006, 0.44057299999999999, 1.0),
            (0.47750399999999998, 0.82144399999999995, 0.31819500000000001, 1.0),
            (0.74138800000000005, 0.87344900000000003, 0.149561, 1.0)
        ],
        [
            (0.001462, 0.000466, 0.013866, 1.0),
            (0.078814999999999996, 0.054184000000000003, 0.21166699999999999, 1.0),
            (0.23207700000000001, 0.059888999999999998, 0.437695, 1.0),
            (0.39038400000000001, 0.100379, 0.50186399999999998, 1.0),
            (0.55028699999999997, 0.161158, 0.50571900000000003, 1.0),
            (0.716387, 0.21498200000000001, 0.47528999999999999, 1.0),
            (0.86879300000000004, 0.28772799999999998, 0.40930299999999997, 1.0),
            (0.96767099999999995, 0.43970300000000001, 0.35981000000000002, 1.0),
            (0.99473800000000001, 0.62434999999999996, 0.42739700000000003, 1.0),
            (0.99568000000000001, 0.81270600000000004, 0.57264499999999996, 1.0)
        ],
        [
            (0.001462, 0.000466, 0.013866, 1.0),
            (0.087411000000000003, 0.044555999999999998, 0.22481300000000001, 1.0),
            (0.25823400000000002, 0.038571000000000001, 0.40648499999999999, 1.0),
            (0.41633100000000001, 0.090203000000000005, 0.43294300000000002, 1.0),
            (0.57830400000000004, 0.148039, 0.40441100000000002, 1.0),
            (0.73568299999999998, 0.21590599999999999, 0.33024500000000001, 1.0),
            (0.86500600000000005, 0.31682199999999999, 0.22605500000000001, 1.0),
            (0.95450599999999997, 0.46874399999999999, 0.099874000000000004, 1.0),
            (0.987622, 0.64532, 0.039885999999999998, 1.0),
            (0.96439399999999997, 0.84384800000000004, 0.273391, 1.0)
        ],
        [
            (0.98705299999999996, 0.99143800000000004, 0.74950399999999995, 1.0),
            (0.99568000000000001, 0.81270600000000004, 0.57264499999999996, 1.0),
            (0.99473800000000001, 0.62434999999999996, 0.42739700000000003, 1.0),
            (0.96767099999999995, 0.43970300000000001, 0.35981000000000002, 1.0),
            (0.86879300000000004, 0.28772799999999998, 0.40930299999999997, 1.0),
            (0.70996199999999998, 0.21279699999999999, 0.47720099999999999, 1.0),
            (0.55028699999999997, 0.161158, 0.50571900000000003, 1.0),
            (0.39038400000000001, 0.100379, 0.50186399999999998, 1.0),
            (0.23207700000000001, 0.059888999999999998, 0.437695, 1.0),
            (0.078814999999999996, 0.054184000000000003, 0.21166699999999999, 1.0)
        ],
        [
            (0.050382999999999997, 0.029803, 0.52797499999999997, 1.0),
            (0.25462699999999999, 0.013882, 0.61541900000000005, 1.0),
            (0.41764200000000001, 0.00056400000000000005, 0.65839000000000003, 1.0),
            (0.56273799999999996, 0.051545000000000001, 0.641509, 1.0),
            (0.69284000000000001, 0.16514100000000001, 0.56452199999999997, 1.0),
            (0.79821600000000004, 0.28019699999999997, 0.46953800000000001, 1.0),
            (0.88144299999999998, 0.39252900000000002, 0.38322899999999999, 1.0),
            (0.94921699999999998, 0.51776299999999997, 0.29566199999999998, 1.0),
            (0.98826000000000003, 0.65232500000000004, 0.211364, 1.0),
            (0.98864799999999997, 0.80957900000000005, 0.14535699999999999, 1.0)
        ]
    ]

    l_colors = [
        [optom.common.colormaps.mapped_cmap(i_cmap, 10)(i) for i in xrange(10)]
        for i_cmap in optom.common.colormaps.cmap_names()
        ]

    assert_equal(l_colors, l_results)
